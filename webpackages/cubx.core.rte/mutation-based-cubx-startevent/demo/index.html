<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Mutation based start event demo</title>
    <script src="../main.js"
            data-cubx-mutation="{ 'childList': true }"
            data-cubx-mutation-target-node="#observable"
            data-cubx-emit-event="mutationBasedStart"></script>
    <script src="../../../cubx.core.rte@2.3.0-SNAPSHOT/crc-loader/js/main.js" data-cubx-startevent="mutationBasedStart"></script>
</head>
<body>
<h1>Mutation based start event demo</h1>

<p>The attributes have following values:</p>
<ul>
    <li><strong>data-cubx-mutation:</strong> "{ 'childList': true }"</li>
    <li><strong>data-cubx-mutation-target-node:</strong> "#observable"</li>
    <li><strong>data-cubx-emit-event:</strong> "mutationBasedStart"</li>
</ul>

<p>
    Every change on the element with the id 'observable' will be detected, thus appending an
    element will cause the 'startEvent' dispatching.
</p>
<p>
    So click on the button above to cause the mutation:
</p>
<button id="appendComp">Append 'cubx-textarea'</button>
<hr>
<div id="observable"></div>
</body>

<script>
    (function () {
        'use strict';
        var appendComp = document.querySelector('#appendComp');
        appendComp.addEventListener('click', function () {
            var cubxTextarea = document.createElement('cubx-textarea');
            cubxTextarea.setAttribute('cubx-webpackage-id', 'com.incowia.basic-html-components@0.1.3');
            document.querySelector('#observable').appendChild(cubxTextarea);
        });
    })()
</script>
</html>
