<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>CRC-TestWebapp</title>

    <link rel="stylesheet" href="style/app.css">
    <script src="../../../cubx.core.rte/webcomponents/webcomponents-lite.js"></script>

    <script src="../../../cubx.core.rte/crc-loader/js/main.js" data-crcinit-loadcif="true" data-cubx-startevent="pleaseStart"></script>

</head>
<body>
<h2>This is a Cubixx-Webapplication</h2>

<p>To extend the application, you can use <i>plain-old-html</i> or <i>CubixxComponents</i></p>
<hr>
<a href="index.html">index.html</a>
<a href="index1.html">index1.html</a>
<a href="index2.html">index2.html</a>
<a href="index3.html">index3.html</a>
<a href="index4.html">index4.html</a>
<a href="index5.html">index5.html</a>
<a href="index6.html">index6.html</a>
<a href="index7.html">index7.html</a>
<a href="index8.html">index8.html</a>
<a href="startEvent.html">startEvent.html</a>

<hr>
<h2>Start the CRC using 'data-cubx-startevent' attribute</h2>

<p>'pleaseStart' using 'data-cubx-startevent' attribute</p>

<textarea id="logTa" rows="8" cols="50" style="display:block"></textarea>
<button id="dispatchEventB" type="button">Dispatch 'pleaseStart' event</button>
<hr>
<div>
    <elementary-example cubx-dependency="this/elementary-example/main"></elementary-example>
</div>

<script>
    (function() {
        'use strict';
        var logTa = document.querySelector('#logTa');
        var dispatchEventB = document.querySelector('#dispatchEventB');
        logTa.value = 'Log';

        dispatchEventB.addEventListener('click', function() {
            dispatchEventB.setAttribute('disabled', 'disabled');
            var event = new Event('pleaseStart');
            document.dispatchEvent(event);
            logTa.value += '\n\n--------\n\'pleaseStart\' event dispatched.';
            logTa.value += '\n\n-> CRC should start working.';
        });
    })()
</script>

</body>
</html>
